theme.Header=function(){var i=".js-menu";function t(t){this.$container=$(t),this.namespace=".header",this.onLoad()}return t.prototype=$.extend({},Section.prototype,t.prototype,{_tape:function(){var i=this.$container.find(".js-header-tape"),a=function(){return 1e3*theme.animations.header_tape.duration};if(i.length){var t=i.find('[data-js-action="close"]'),e=$.cookie("header-tape"),n=i.attr("data-js-show-once"),s=+i.attr("data-js-delay"),r=+i.attr("data-js-cookies-life");"off"!==e&&(setTimeout(function(){i.removeClass("d-none"),i.velocity("slideDown",{duration:a(),complete:function(){i.removeAttr("style")}})},1e3*s),t.on("click",function(){if("true"===n){var t=new Date,e=864e5*r;t.setTime(t.getTime()+e),$.cookie("header-tape","off",{expires:t,path:"/"})}$(this).off(),i.velocity("slideUp",{duration:a(),complete:function(){i.remove()}})})),this._registerHansler(t)}},_menu:{init:function(t){var e=$(i);e.length&&(this.$menu=e,this.api=theme.Menu.init(e,{namespace:t}))},destroy:function(){this.api&&(this.$menu.unbind("mouseenter"),this.api.destroy(),this.api=null),this.handler&&this.handler.destroy()}},_sticky:{init:function(){var t=$(".js-header-sticky"),e=t.attr("data-js-sticky"),i=t.attr("data-js-desktop-sticky-sidebar");if(t.length){var a={bp:1024};"desktop_and_mobile"!==e&&"desktop"!==e||($.extend(a,{desktop:{sticky:"[data-js-desktop-sticky]",limit:"bottom",fade:!0,duration:function(){return 1e3*theme.animations.sticky_header.duration}}}),"true"===i&&$.extend(a.desktop,{move:[{elem:'[data-js-sticky-replace-element="logo"]',to:'[data-js-sticky-replace-here="logo"]'},{elem:'[data-js-sticky-replace-element="cart"]',to:'[data-js-sticky-replace-here="cart"]'},{elem:'[data-js-sticky-replace-element="wishlist"]',to:'[data-js-sticky-replace-here="wishlist"]'},{elem:'[data-js-sticky-replace-element="compare"]',to:'[data-js-sticky-replace-here="compare"]'}]})),"desktop_and_mobile"!==e&&"mobile"!==e||$.extend(a,{mobile:{sticky:"[data-js-mobile-sticky]",limit:"bottom",fade:!1}}),theme.StickyHeader&&(this.api=theme.StickyHeader.init(t,a))}},destroy:function(){this.api&&(this.api.destroy(),this.api=null)}},_languages:{init:function(){var c=this;$(window).on("load",function(){var t,e,i,a=$(".js-languages-list"),n=$(".weglot-container").eq(0);if(a.length&&n.length){var s=n.find(".wgcurrent"),r=n.find("ul"),o=a.find(".header__btn-language span"),d=a.find("ul");c.$header_list=d,t=s.find("a").html(),e=$("<span>").html(t),i=$("<li>").addClass("active").attr("data-l",s.attr("data-l")).append(e),o.html(t),d.html("").append(i),r.find("li").each(function(){var t=$(this),e=$("<span>").html(t.find("a").html()),i=$("<li>").attr("data-l",t.attr("data-l")).append(e);d.append(i)}),a.removeClass("d-none-important"),d.on("click","li:not(.active)",function(){var t,e,i=$(this);r.find('li[data-l="'+i.attr("data-l")+'"] a').trigger("click"),t=s.attr("data-l"),e=s.find("a").html(),o.html(e),d.find("li").removeClass("active").filter('[data-l="'+t+'"]').addClass("active"),i.parents("[data-js-dropdown]").trigger("hide")})}})},destroy:function(){this.api&&(this.api.destroy(),this.api=null),this.$header_list&&this.$header_list.off()}},_currency:{init:function(t){var a=$(".js-currencies-list");if(a.length&&theme.ProductCurrency){t=t+".currencies";var e,n=a.find("[data-current-currency]");try{e=Currency.cookie.read()}catch(t){}function s(e){var i;return a.find("li").each(function(){var t=$(this);t.data("currency-code")==e?(t.addClass("active"),i=t.attr("data-button-name")||e):t.removeClass("active")}),i}if(null!=e&&e!==Currency.shopCurrency){var i=s(e);n.html(i)}a.on("click"+t,"li",function(t){var e=$(this);if(!e.hasClass("active")){var i=e.data("currency-code"),a=e.attr("data-button-name")||i;theme.ProductCurrency.setCurrency(i),s(i),n.html(a),theme.current.is_desktop?e.parents("[data-js-dropdown]").trigger("hide"):theme.Popups.closeByName("navigation")}return t.preventDefault(),!1}),this.api={destroy:function(){$body.unbind("click"+t)}}}},destroy:function(){this.api&&(this.api.destroy(),this.api=null)}},onLoad:function(){theme.is_loaded&&(theme.Position.update("menu"),theme.Position.update("currency"),theme.Tooltip&&theme.Tooltip.init()),theme.StoreLists.updateHeaderCount(),this._menu.init(this.namespace),this._sticky.init(),this._tape(),this._languages.init(),this._currency.init(this.namespace)},onUnload:function(){this.$container.off(this.namespace),this._offHanslers(),this._menu.destroy(),this._sticky.destroy(),this._languages.init(),this._currency.destroy(),theme.Tooltip&&theme.Tooltip.destroy()}}),t}(),$(function(){theme.sections.register("header",theme.Header)});