theme.ProductsView=function(){function t(){this.selectors={view:".js-products-view"},this.init()}t.prototype=$.extend({},t.prototype,{init:function(){var o=this,t=localStorage.getItem("products-view");if(-1!==window.location.href.indexOf("products-view=reset")&&(t=null,localStorage.setItem("products-view",null)),t){var a=$(this.selectors.view+" [data-js-products-grid-buttons]");t=JSON.parse(t),a.each(function(){var s=$(this),r=!0;$.each(t,function(t,a){if(s.attr("data-value-"+t)!==a){var e="data-active-"+t;s.attr("data-value-"+t,a),s.find("[data-value]").removeAttr(e),s.find('[data-value="'+a+'"]').attr(e,!0),r=!1}}),r||o.update(s)})}$body.on("click",this.selectors.view+" [data-js-products-grid-buttons] [data-value]",function(){var t=$(this),e=t.parents("[data-js-products-grid-buttons]"),a=t.attr("data-value"),s=theme.current.bp,r="data-active-"+s;if(!t[0].hasAttribute(r)){var i={};e.find("[data-value]").removeAttr(r),t.attr(r,!0),e.attr("data-value-"+s,a),o.update(e),$.each(theme.breakpoints.values,function(t,a){i[t]=e.attr("data-value-"+t)}),localStorage.setItem("products-view",JSON.stringify(i))}})},update:function(t){var s=t.parents(this.selectors.view).find("[data-js-products]"),r=$("[data-js-products-grid-buttons]"),i="";r.length&&($.each(theme.breakpoints.values,function(t){var a=r.attr("data-value-"+t),e="list"===a?12:12/+a;s[1==+a?"addClass":"removeClass"]("products-view-centered-"+t),s["list"===a?"addClass":"removeClass"]("products-view-list-"+t),i+=" col-","xs"!==t&&(i+=t+"-"),i+=e}),s.find("[data-js-product]").parent().attr("class",i),$window.trigger("checkImages"))}}),theme.ProductsView=new t},$(function(){theme.ProductsView()});